Требование к инфраструктуре K8s тестовый  
0. Операционная система RHEL.  
1. Колличество ВМ 7  шт.  
Master Node - 1 шт. (RAM - 4GB, HDD - 100 GB)  
Worker Node - 3 шт. (RAM - 64Gb, HDD - 400Gb)  
Etcd - 3 шт. (RAM - 4GB, HDD - 100 GB)  
![Diagram](https://lh4.googleusercontent.com/KSQX7vJ54g_daxmaeljRa_A-2if9JJc5Yg9U1qkCr07dXPlTvVFQTxbcOX43T_PoJKrUYXymhGIb1tjG6QY44UiM_H6197piva34dxJ6qmmcG2fReCOAJngHkbHec7aZT1UTAl0n)
2. Необходимые инфраструктурные изменения
- DNS зона.
- Диапазон  адресов.
- AD авторизация.
- Внесение изменений в код приложений для работы с Service Discovery K8s.
- Переход стадии CD на использование Config server.
- Переход на использование репозитория Кубернетес.
- Создание служебного пользователя
  - для репозитория артефактов
  - для К8s
3. Выбор типа сети внутри K8s.
4. Выбор типа сетевого хранилища K8s. (VmFS, etc...)
5. Необходимо принять решение о внесении/ не внесении, саттелитных сервисов внутрь Кубера.
Примечание: Если внести их внутрь Кубера кратно возрастёт затрата на хранилище
6. Необходимо определить необходимое колличество Namespaces.

Примечание: Данные требования только для тестовой инсталяции, которая включает 19 контейнеров и необходимое для оценки колличество сред. Необходимо принять решение вносятся ли в K8s базы данных и стека ELK. Колличество артефактов описывается методом GFS. 
Для ELK Необходимо учесть текущие ошибки, как то грамотно рассчитать необходимый размер хранилища и политику ротации логов.

![Diagram](https://rtfm.co.ua/wp-content/uploads/2019/07/maxresdefault.jpg)
![Diagram](https://rtfm.co.ua/wp-content/uploads/2019/07/API-server-overview.png)



